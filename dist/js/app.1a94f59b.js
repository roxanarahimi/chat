(function(){"use strict";var e={4112:function(e,t,r){var o=r(9242),s=r(3396);const n={class:"container"},i={class:"row mx-auto bg-primary",style:{height:"800px",overflow:"hidden","border-radius":"4rem","margin-top":"10px","margin-bottom":"10px","max-width":"420px"}};function l(e,t){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",i,[(0,s.Wm)(r)])])}var a=r(89);const c={},d=(0,a.Z)(c,[["render",l]]);var u=d,p=r(5431);(0,p.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var m=r(2483);const h={style:{"margin-top":"250px",height:"250px",width:"250px","border-radius":"4rem"},class:"bg-light p-5 mx-auto"},g=(0,s._)("h3",null,"ورود به چت",-1),v=(0,s._)("label",{for:"name"},null,-1),b=(0,s._)("input",{class:"btn bg-primary rounded rounded-pill text-light",type:"submit",value:"ورود"},null,-1);function f(e,t,r,n,i,l){return(0,s.wg)(),(0,s.iD)("div",h,[g,(0,s._)("form",{onSubmit:t[1]||(t[1]=(0,o.iM)(((...e)=>n.enterChat&&n.enterChat(...e)),["prevent"]))},[v,(0,s.wy)((0,s._)("input",{type:"text",placeholder:"نام شما ... ",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),class:"py-3 border-0 rounded rounded-pill form-control mb-3"},null,512),[[o.nr,n.name]]),b],32)])}r(7658);var y=r(4870),x={name:"HomeView",components:{},setup(){const e=(0,y.iH)(""),t=(0,m.tv)(),r=()=>{""!==e.value&&null!==e.value?(t.push({name:"Users",params:{name:e.value}}),localStorage.clear(),localStorage.setItem("userName",e.value)):alert("وارد کردن نام الزامی است"),e.value=""};return{name:e,enterChat:r,router:t}}};const w=(0,a.Z)(x,[["render",f]]);var _=w,k=r(7139);const C={class:"col-10 ps-0 bg-primary"},S={class:"d-flex justify-content-between"},M=(0,s._)("h4",{class:"p-4 text-light pb-3"},[(0,s.Uk)("گفتگو با "),(0,s._)("span",{class:"them"})],-1),O={class:"my-3 p-3 px-2 bg-white border border-white border-3 p-4 msg_history",style:{height:"610px","border-radius":"2rem","overflow-y":"scroll",direction:"ltr"}},z={class:"px-1 mb-4"},j=(0,s.uE)('<div class="col-2 px-0 bg-primary" style="padding-top:120px;"><div style="height:625px;overflow-y:scroll;overflow-x:hidden;direction:rtl;color:whitesmoke !important;"><div style=""><div class="bg-white p-2 text-black-50" style="border-radius:30px 0 0 30px;"><i style="font-size:35px;" class="bi bi-person-circle"></i><div class=""><small class="mb-0 them">نامکاربری</small></div></div><div class="p-2"><i style="font-size:35px;" class="bi bi-person-circle"></i><div class=""><small class="mb-0">نامکاربری</small></div></div></div></div></div>',1);function I(e,t,r,n,i,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",C,[(0,s._)("div",null,[(0,s._)("div",S,[M,(0,s._)("i",{onClick:t[0]||(t[0]=e=>this.$router.go(-1)),class:"bi bi-arrow-left text-light m-3",style:{"font-size":"30px","margin-left":"-54px !important","z-index":"1000"}})]),(0,s._)("div",O,[(0,s._)("div",null,[i.them?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.allMsgs,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.message,class:(0,k.C_)({sent:e.sender===i.me,received:e.sender===i.them})},[(0,s._)("div",{class:(0,k.C_)(["inner rounded rounded-pill mb-3",{"bg-primary":e.sender===i.me,"bg-secondary":e.sender===i.them}])},(0,k.zw)(e.message),3)],2)))),128)):(0,s.kq)("",!0)])]),(0,s._)("div",z,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>l.saveMsg&&l.saveMsg(...e)),["prevent"]))},[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.message=e),style:{height:"50px"},class:"form-control border-0 rounded rounded-pill",placeholder:"پیام خود را بنویسید ...",id:""},null,512),[[o.nr,i.message]])],32)])])]),j],64)}var U=r(36),A={name:"Chat",data(){return{me:"",them:"",message:"",allMsgs:[]}},mounted(){console.log(localStorage),this.me=localStorage.getItem("userName"),this.them=localStorage.getItem("chatWith"),console.log(this.me,this.them),document.querySelectorAll(".them").forEach((e=>{e.innerText=this.them}))},created(){this.getMsgs()},methods:{scrollBottom(){setTimeout((()=>{document.querySelector(".msg_history").scrollTop=document.querySelector(".msg_history").scrollHeight}),1e3)},saveMsg(){try{(0,U.ET)((0,U.hJ)(db,"chat"),{message:this.message,sender:this.me,receiver:this.them,createdAt:new Date});this.getMsgs(),this.message=""}catch(e){console.error("Error adding document: ",e)}this.scrollBottom()},async getMsgs(){const e=(0,U.IO)((0,U.hJ)(db,"chat"),(0,U.Xo)("createdAt"));(0,U.cf)(e,(e=>{this.allMsgs=[],e.forEach((e=>{this.allMsgs.push(e.data())}))}));this.scrollBottom()}}};const D=(0,a.Z)(A,[["render",I]]);var T=D;const E={class:"d-flex justify-content-between"},H=(0,s._)("h4",{class:"p-4 text-light pb-3"},"کاربران ",-1),N={class:"px-3 pb-3"},B={class:"col-12 bg-white pt-3",style:{"border-radius":"3rem",height:"680px","overflow-y":"scroll","overflow-x":"hidden",direction:"ltr"}},W={class:"row px-2",dir:"rtl"},q={class:"col-6 mb-2"},Z={class:"border border-4 text-center",style:{height:"230px","border-radius":"4rem"}},F=(0,s._)("i",{class:"bi bi-person-circle",style:{"font-size":"80px"}},null,-1),P=(0,s._)("p",null,"محمد",-1),V={class:"col-6 mb-2"},Y={class:"border border-4 text-center",style:{height:"230px","border-radius":"4rem"}},$=(0,s._)("i",{class:"bi bi-person-circle",style:{"font-size":"80px"}},null,-1),J=(0,s._)("p",null,"علی",-1),K={class:"col-6 mb-2"},R={class:"border border-4 text-center",style:{height:"230px","border-radius":"4rem"}},Q=(0,s._)("i",{class:"bi bi-person-circle",style:{"font-size":"80px"}},null,-1),X=(0,s._)("p",null,"رویا",-1);function G(e,t,r,o,n,i){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",E,[H,(0,s.Uk)(" "+(0,k.zw)(this.$route.params.namee)+" ",1),(0,s._)("i",{onClick:t[0]||(t[0]=e=>this.$router.go(-1)),class:"bi bi-arrow-left text-light m-3",style:{"font-size":"30px"}})]),(0,s._)("div",N,[(0,s._)("div",B,[(0,s._)("div",W,[(0,s._)("div",q,[(0,s._)("div",Z,[F,P,(0,s.Wm)(l,{to:"/chat",onClick:t[1]||(t[1]=e=>o.startChat("محمد")),class:"btn bg-primary rounded rounded-pill text-light"},{default:(0,s.w5)((()=>[(0,s.Uk)(" شروع گفتگو")])),_:1})])]),(0,s._)("div",V,[(0,s._)("div",Y,[$,J,(0,s.Wm)(l,{to:"/chat",onClick:t[2]||(t[2]=e=>o.startChat("علی")),class:"btn bg-primary rounded rounded-pill text-light"},{default:(0,s.w5)((()=>[(0,s.Uk)(" شروع گفتگو")])),_:1})])]),(0,s._)("div",K,[(0,s._)("div",R,[Q,X,(0,s.Wm)(l,{to:"/chat",onClick:t[3]||(t[3]=e=>o.startChat("رویا")),class:"btn bg-primary rounded rounded-pill text-light"},{default:(0,s.w5)((()=>[(0,s.Uk)(" شروع گفتگو")])),_:1})])])])])])],64)}var L={name:"Users",props:["name"],setup(){const e=(0,m.tv)(),t=e=>{localStorage.setItem("chatWith",e)};return(0,s.bv)((()=>{console.log(e.currentRoute.value.params),console.error(localStorage.getItem("userName"))})),{router:e,startChat:t}}};const ee=(0,a.Z)(L,[["render",G]]);var te=ee;const re=[{path:"/",name:"home",component:_},{path:"/chat",name:"Chat",component:T,props:!0,params:!0},{path:"/users",name:"Users",component:te,props:!0,params:!0}],oe=(0,m.p7)({history:(0,m.PO)("/"),routes:re});var se=oe,ne=r(7795);const ie={apiKey:"AIzaSyBxjHM29nTsQ1R1Nnfma2APa_CS7TmrxyI",authDomain:"chat-e43f6.firebaseapp.com",projectId:"chat-e43f6",storageBucket:"chat-e43f6.appspot.com",messagingSenderId:"897553036477",appId:"1:897553036477:web:e50db15810eb6f7f9ef3d4"},le=(0,ne.ZF)(ie),ae=(0,U.ad)(le);window.db=ae,(0,o.ri)(u).use(se).mount("#app")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,o,s,n){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],n=e[d][2];for(var l=!0,a=0;a<o.length;a++)(!1&n||i>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(l=!1,n<i&&(i=n));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,s,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,i=o[0],l=o[1],a=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)r.o(l,s)&&(r.m[s]=l[s]);if(a)var d=a(r)}for(t&&t(o);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},o=self["webpackChunkchat"]=self["webpackChunkchat"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(4112)}));o=r.O(o)})();
//# sourceMappingURL=app.1a94f59b.js.map